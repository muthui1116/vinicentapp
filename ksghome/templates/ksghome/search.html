{% extends 'ksghome/base.html'%}

{% block content%}
<div class="row"> 
    <h2 class="title-page">Our  Posts</h2>
</div>

<div class="row">
	<span class="mr-md-auto"><strong>{{ posts_count}}</strong> Items found </span>
	
    {% for post in posts%}
	<div class="col-md-4">
		<figure class="card border-light card-product-grid">
			<div class="img-wrap"> 
				
				<a href="{{ post.get_url}}"><img class="cart-img" src="{{ post.images.url}}"></a> 
				
			</div> <!-- img-wrap.// -->
			<figcaption class="info-wrap">
				<div class="card-padding">
					<a href="{{ post.get_url}}" class="title">{{ post.topic}}</a> <br>
					<a href="{{ post.get_url}}"><span class="price">{{ post.sub_topic}}</span></a> <br>
					<a href="{{ post.get_url}}" class="btn btn-sm"> More info... </a>
				</div>
			</figcaption>
		</figure>
	</div> <!-- col.// -->
    {% endfor%}
</div> <!-- row end.// -->


<nav class="mt-4" aria-label="Page navigation sample">
  {% if posts.has_other_pages%}
	<ul class="pagination">
		{% if posts.has_previous%}
			<li class="page-item"><a class="page-link" href="?page={{ posts.previous_page_number}}">Previous</a></li>
		{% else%}
			<li class="page-item disabled"><a class="page-link" href="">Previous</a></li>
		{% endif%}

		{% for i in posts.paginator.page_range%}
			{% if posts.number == i%}
				<li class="page-item active"><a class="page-link" href="#">{{ i}}</a></li>
			{% else%}
				<li class="page-item"><a class="page-link" href="?page={{i}}">{{ i}}</a></li>
			{% endif%}
		{% endfor%}

		{% if posts.has_next%}
			<li class="page-item"><a class="page-link" href="?page={{ posts.next_page_number}}">Next</a></li>
		{% else%}
			<li class="page-item disabled"><a class="page-link" href="#">Next</a></li>
		{% endif%}
	</ul>
  {% endif%}
</nav>

	</main> <!-- col.// -->

</div>

{% endblock%}